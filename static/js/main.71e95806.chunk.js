(this.webpackJsonpdragon=this.webpackJsonpdragon||[]).push([[0],{36:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),i=n(26),s=n.n(i),o=(n(36),n(24)),r=n.n(o),l=n(21),j=n(27),d=n(12),u=n(30),h=n(43),b=n(31),m=n(28),x=n.n(m),O=n(19),p=n(29),v=n(3),f=function(e){return Object(v.jsxs)("header",{className:"header",children:[Object(v.jsxs)("div",{className:"header__title",children:[Object(v.jsx)(O.a,{}),Object(v.jsx)("h1",{children:"Dragon Grid"})]}),Object(v.jsx)("span",{children:Object(v.jsxs)("small",{children:["Total : ",e.total]})}),Object(v.jsx)("div",{className:"header__links-group",children:Object(v.jsx)("a",{href:"https://github.com/OliveCh12/drawg",target:"_blank",rel:"noreferrer",children:Object(v.jsx)(p.a,{size:20})})})]})},g=n(42),_=function(e){return Object(v.jsxs)("div",{className:"app-empty",children:[Object(v.jsx)(g.a.div,{initial:{scale:0,rotate:360},animate:{scale:1,rotate:0},children:Object(v.jsx)(O.a,{className:"app-empty__icon"})}),Object(v.jsx)("p",{children:"Start by adding a new item clicking the button + down bellow"})]})},y=function(e){return Object(v.jsxs)("div",{className:"grid",children:[Object(v.jsx)("div",{className:"grid__cell",children:Object(v.jsxs)("select",{name:"type",onChange:e.handleChange,children:[Object(v.jsx)("option",{value:"\u25b3",children:"\u25b3"}),Object(v.jsx)("option",{value:"\u25a1",children:"\u25a1"}),Object(v.jsx)("option",{value:"\u25cb",children:"\u25cb"}),Object(v.jsx)("option",{value:"\u25a1/\u25cb",children:"\u25a1/\u25cb"}),Object(v.jsx)("option",{value:"\u25b3/\u25a1",children:"\u25b3/\u25a1"})]})}),Object(v.jsx)("div",{className:"grid__cell",children:Object(v.jsxs)("select",{name:"note",disabled:!1,onChange:e.handleChange,children:[Object(v.jsx)("option",{value:"",className:"empty"}),Object(v.jsx)("option",{value:"\ud83d\udc32",children:"\ud83d\udc32"}),Object(v.jsx)("option",{value:"\u2705",children:"\u2705"}),Object(v.jsx)("option",{value:"\u274c",children:"\u274c"})]})}),Object(v.jsx)("div",{className:"grid__cell",children:Object(v.jsxs)("select",{name:"level",onChange:e.handleChange,children:[Object(v.jsx)("option",{value:"0",children:"0"}),Object(v.jsx)("option",{value:"|",children:"|"}),Object(v.jsx)("option",{value:"||",children:"||"}),Object(v.jsx)("option",{value:"|||",children:"|||"})]})}),Object(v.jsx)("div",{className:"grid__cell",children:Object(v.jsxs)("select",{name:"rythme",onChange:e.handleChange,children:[Object(v.jsx)("option",{value:"S",children:"S"}),Object(v.jsx)("option",{value:"M",children:"M"}),Object(v.jsx)("option",{value:"F",children:"F"}),Object(v.jsx)("option",{value:"R",children:"R"})]})})]})},C=function(e){var t=Object(c.useState)(!1),n=Object(d.a)(t,2),a=n[0],i=n[1];return Object(v.jsxs)(g.a.div,{onClick:function(){return i(!a)},className:"exo__section ".concat(a?"exo__section--active":""),initial:{x:100,opacity:0},animate:{x:0,opacity:1},children:[Object(v.jsxs)("span",{className:"exo__section-name",children:[e.name," ",Object(v.jsxs)("strong",{children:[e.repeat,"\xd7",e.time,"min"]})]}),Object(v.jsx)("span",{className:"exo__section-comment",children:e.comment}),a&&Object(v.jsx)("button",{className:"exo__section-remove",onClick:function(){return e.removeSection(e.sectionIndex)},children:"-"})]})},N=n(20),S=n(25),w=function(e){var t=Object(c.useState)({name:"",repeat:"",time:"",comment:""}),n=Object(d.a)(t,2),a=n[0],i=n[1],s=Object(c.useCallback)((function(t){if("Enter"===t.key){t.preventDefault(),e.addSection(a);var n=Object.fromEntries(Object.keys(a).map((function(e){return[e,""]})));i(n);var c=document.querySelector("input[name='name']");null===c||void 0===c||c.focus()}}),[a,e]);function o(e){var t=e.target.value;i(Object(S.a)(Object(S.a)({},a),{},Object(N.a)({},e.target.name,t)))}return Object(c.useEffect)((function(){return window.addEventListener("keydown",s),function(){window.removeEventListener("keydown",s)}}),[a,s]),Object(v.jsxs)("div",{className:"exo__inputs",children:[Object(v.jsx)("input",{name:"name",type:"text",placeholder:"Name*",onChange:o,value:a.name,required:!0}),Object(v.jsx)("input",{name:"repeat",type:"number",min:0,placeholder:"Repeat*",onChange:o,value:a.repeat,required:!0}),Object(v.jsx)("input",{name:"time",type:"number",min:0,placeholder:"30 min",onChange:o,value:a.time,required:!0}),Object(v.jsx)("input",{name:"comment",type:"text",placeholder:"Comment",onChange:o,value:a.comment}),Object(v.jsx)("button",{type:"submit",className:"button button--add",onClick:function(){return e.addSection(a)},children:"Add Section"})]})},k=function(e){var t=Object(c.useState)(!1),n=Object(d.a)(t,2),a=n[0],i=n[1];return Object(v.jsxs)(g.a.div,{initial:{x:200,opacity:0},animate:{x:0,opacity:1},transition:{stiffness:10,duration:.2},className:"exo",children:[Object(v.jsxs)("div",{className:"exo__body",children:[Object(v.jsx)("button",{className:"button button--remove",onClick:e.removeExercice,children:"-"}),Object(v.jsxs)("div",{className:"exo__header",children:[Object(v.jsxs)("span",{className:"exo__time",children:["\u23f1\ufe0f ",function(e){var t=e.reduce((function(e,t){return e+t.time*t.repeat}),0);return t<60?t+" min":t/60+" h"}(e.sections)]}),Object(v.jsx)("input",{className:"exo__index",type:"text",name:"cardType",placeholder:"Card Type",onChange:e.handleChange,value:e.cardType})]}),Object(v.jsx)("input",{className:"exo__title",spellCheck:!1,type:"text",name:"title",placeholder:"Titre",value:e.title,onChange:e.handleChange}),Object(v.jsx)(y,{handleChange:e.handleChange})]}),Object(v.jsx)("div",{className:"exo__sections",children:Object(v.jsx)(h.a,{children:e.sections.map((function(t,n){return Object(v.jsx)(C,{sectionIndex:n,name:t.name,repeat:t.repeat,comment:t.comment,time:t.time,removeSection:e.removeSection},n)}))})}),Object(v.jsxs)("div",{className:"exo__footer",children:[Object(v.jsx)("button",{className:"button button--section",onClick:function(){i(!a)},children:"+"}),Object(v.jsx)(h.a,{children:a&&Object(v.jsx)(w,{onChange:e.handleChange,addSection:e.handleSection})})]})]})};n(39);var T=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(c.useRef)(null),s=Object(c.useRef)(null);function o(){return(o=Object(j.a)(r.a.mark((function e(){var t,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,document.querySelector(".exos");case 2:return n=e.sent,e.next=5,document.querySelectorAll(".exo__footer");case 5:return c=e.sent,e.next=8,c.forEach((function(e){e.style="display: none"}));case 8:return e.next=10,null===(t=x()(n,{windowWidth:n.offsetWidth,windowHeight:1080,foreignObjectRendering:!1}))||void 0===t?void 0:t.then((function(e){document.body.appendChild(e)}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.jsxs)("div",{className:"App",id:"App",ref:i,children:[Object(v.jsx)(f,{total:n.length}),n.length<=0?Object(v.jsx)(_,{}):Object(v.jsx)("div",{className:"exos",children:Object(v.jsx)(h.a,{children:n.map((function(e,t){return Object(v.jsx)(k,{index:t,title:e.title,cardType:e.cardType,time:e.time,sections:e.sections,handleChange:function(e){return function(e,t){var n=e.target.name;a((function(c){return Object(u.a)(c,(function(c){c[t][n]=e.target.value}))}))}(e,t)},handleSection:function(e){return function(e,t){var c=Object(l.a)(n);c[t].sections.push(e),a(c)}(e,t)},removeSection:function(e){return function(e,t){var c=Object(l.a)(n);c[t].sections.splice(e,1),a(c)}(e,t)},removeExercice:function(){return function(e){a(n.slice(0,e).concat(n.slice(e+1,n.length)))}(t)},isActive:!0},t)}))})}),Object(v.jsxs)("div",{className:"controls",children:[Object(v.jsx)("button",{className:"button button--new",onClick:function(){n.length>=10?alert("You can only have tree exercices"):a([].concat(Object(l.a)(n),[{title:"",cardType:"",type:"",level:"",rythme:"",note:"",sections:[]}]))},children:Object(v.jsx)(b.a,{scale:1.2})}),Object(v.jsx)("a",{className:"button button--default",ref:s,onClick:function(){return o.apply(this,arguments)},download:!0,href:"/",children:"Download PNG"})]})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};s.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(T,{})}),document.getElementById("root")),E()}},[[40,1,2]]]);
//# sourceMappingURL=main.71e95806.chunk.js.map